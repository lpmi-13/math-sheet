<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Multiplication Practice Sheet</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                padding: 20px;
                max-width: 900px;
                margin: 0 auto;
            }
            h1 {
                text-align: center;
                margin-bottom: 30px;
            }
            .grid-container {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 40px;
                margin: 0 auto;
            }
            .problem-container {
                display: flex;
                justify-content: center;
            }
            .problem {
                display: flex;
                flex-direction: column;
                align-items: flex-end;
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 10px;
            }
            .number-row {
                display: flex;
                justify-content: flex-end;
                align-items: center;
            }
            .multiplication-sign {
                margin-right: 10px;
            }
            .line {
                border-bottom: 2px solid black;
                margin: 5px 0 25px 0;
                /* Width will be set dynamically by JavaScript */
            }
        </style>
    </head>
    <body>
        <h1>Multiplication Practice</h1>

        <div class="grid-container" id="problemGrid">
            <!-- Problems will be inserted here by JavaScript -->
        </div>

        <script>
            // Function to generate a random number within a range
            function getRandomNumber(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min;
            }

            // Function to create a new multiplication problem
            function createProblem() {
                // Generate a 3-digit number (100-999)
                const threeDigitNumber = getRandomNumber(100, 999);

                // Generate a 1-digit number (1-9)
                const oneDigitNumber = getRandomNumber(1, 9);

                // Create a container to center the problem
                const containerDiv = document.createElement('div');
                containerDiv.className = 'problem-container';

                // Create a problem container
                const problemDiv = document.createElement('div');
                problemDiv.className = 'problem';

                // First row (3-digit number)
                const row1 = document.createElement('div');
                row1.className = 'number-row';
                const span1 = document.createElement('span');
                span1.textContent = threeDigitNumber;
                row1.appendChild(span1);
                problemDiv.appendChild(row1);

                // Second row (multiplication sign and 1-digit number)
                const row2 = document.createElement('div');
                row2.className = 'number-row';
                const multiSign = document.createElement('span');
                multiSign.className = 'multiplication-sign';
                multiSign.textContent = 'Ã—';
                const span2 = document.createElement('span');
                span2.textContent = oneDigitNumber;
                row2.appendChild(multiSign);
                row2.appendChild(span2);
                problemDiv.appendChild(row2);

                // Line
                const line = document.createElement('div');
                line.className = 'line';
                problemDiv.appendChild(line);

                // Add the problem to the centered container
                containerDiv.appendChild(problemDiv);

                // Calculate width based on the larger number and extend by 30%
                setTimeout(() => {
                    const width = Math.max(
                        span1.getBoundingClientRect().width,
                        span2.getBoundingClientRect().width +
                            multiSign.getBoundingClientRect().width
                    );
                    // Make the line 30% longer than the width of the numbers
                    line.style.width = `${width * 1.3}px`;
                }, 0);

                return containerDiv;
            }

            // Function to generate the entire grid of problems
            function generateProblemGrid() {
                const grid = document.getElementById('problemGrid');
                grid.innerHTML = '';

                // Create a 3x5 grid (15 problems)
                for (let i = 0; i < 15; i++) {
                    const problemElement = createProblem();
                    grid.appendChild(problemElement);
                }
            }

            // Generate problems when the page loads
            window.onload = generateProblemGrid;
        </script>
    </body>
</html>
